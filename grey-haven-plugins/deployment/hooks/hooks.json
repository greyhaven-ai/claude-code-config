{
  "description": "Deployment safety validation - prevents bad deployments and production incidents. Stop hooks removed (v2.1.0). Updated for Claude Code v2.0.74+.",
  "hooks": {
    "SubagentStart": [
      {
        "hooks": [
          {
            "type": "prompt",
            "model": "haiku",
            "prompt": "üöÄ DEPLOYMENT CONTEXT PREPARATION\n\nContext: $ARGUMENTS\n\nPrepare deployment safety context for the subagent:\n\n1. ENVIRONMENT AWARENESS\n   - What environment is being targeted?\n   - What deployment tool is being used?\n   - What safety checks apply?\n\n2. ROLLBACK REQUIREMENTS\n   - Is a rollback plan required?\n   - What is the rollback procedure?\n\nProvide context:\n{\n  \"additionalContext\": \"Deployment safety requirements\",\n  \"environment\": \"staging or production\",\n  \"requiresRollbackPlan\": true\n}",
            "timeout": 10
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "model": "haiku",
            "prompt": "üöÄ DEPLOYMENT SAFETY CHECK\n\nContext: $ARGUMENTS\n\nValidate deployment commands before execution:\n\n1Ô∏è‚É£ ENVIRONMENT VERIFICATION\n   - Is this targeting the correct environment?\n   ‚ö†Ô∏è BLOCK if environment unclear or wrong\n\n2Ô∏è‚É£ COMMAND SAFETY\n   - Command is a known safe deployment tool?\n   - No destructive flags (--force, --delete)?\n   ‚ö†Ô∏è BLOCK if command is unsafe\n\nüö´ BE STRICT on production deployments.\n\nReturn JSON:\n{\n  \"decision\": \"approve\" or \"block\",\n  \"reason\": \"Deployment safety assessment\"\n}",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
